
\chapter{Conclusão}
\label{ch:6_Conclusao}
De forma geral, o objetivo desse trabalho foi explorar o uso de meta-heurísticas para a resolução do problema de definição de estratégia de produção em campos de petróleo com o intuito de reduzir o esforço computacional para que o algoritmo encontre uma solução de boa qualidade. Para que tal objetivo fosse atingido procurou-se estudar tanto as principais características das meta-heurísticas quanto as principais características do problema em questão para, assim, identificar quais são as informações acerca do problema que podem ser utilizadas para melhorar o processo de otimização realizado pela meta-heurística e como utiliza-los.  

O resultado desse estudo foi apresentado no Capítulo 2 e foi dividido em dois tópicos. A Seção  2.1 foi dedicado a apresentar os aspectos gerais relacionados as meta-heurísticas, o que difere tais ferramentas de algoritmo clássicos de otimização e quais as situações que o uso de meta-heurísticas é promissor. Além disso, foi apresentado as dificuldades encontradas ao projetar um algoritmo desse tipo, quais as principais meta-heurísticas disponíveis na literatura classificando-as em dois grandes grupos: meta-heurísticas populacionais e de solução única. Por fim, os algoritmos genéticos foram apresentados como a escolha para a resolução do problema, aqui tais algoritmos foram discutidos com mais detalhes, foi apresentado a estrutura básica e os operadores de busca que são necessários para seu funcionamento. Por fim, por se tratar de um algoritmo populacional foi abordado duas estratégias clássicas para a manutenção da população dos algoritmos genéticos: a abordagem geracional, no qual uma nova população é gerada a cada iteração; e a abordagem de regime permanente, onde somente um indivíduo é gerado a cada população e adicionado a população, geralmente, caso seja melhor que algum indivíduo já presente na população. 

Já a Seção  2 foi destinado a discutir as principais características relativo ao gerenciamento de campos de petróleo, foi abordado aqui as dificuldades para a exploração de campo de petróleo incluindo os riscos e incertezas inerentes a tal atividade. Uma vez apresentado de forma geral o problema, foi apresentado as características operacionais e de infraestrutura necessárias para o sistema de produção para a exploração de um campo de petróleo, em outras palavras, a estratégia de produção adotada para o campo. Além disso, também foi discutido os indicadores técnicos e econômicos utilizados para a avaliação de uma estratégia de produção, que pode ser utilizado para avaliar o sistema como um todo (como o VPL) ou partes do sistema (como os IEPs). Por fim os principais trabalhos realizados para otimização de estratégias de produção utilizando meta-heurísticas foram listados.

Uma vez que foi identificado os principais aspectos das meta-heurísticas, definido os algoritmos genéticos como ponto de partida e levantado as características relacionadas ao problema de DEP, o próximo passo foi realizar modificações ao algoritmo genético e desenvolver novos operadores que utilizam do conhecimento do problema para melhorar o processo de otimização. O resultado dessa etapa foi discutido no Capítulo 3. Aqui foi detalhado as três versões do algoritmo genético utilizadas nesse trabalho: a versão clássica dos AG geracional ($AG^{GC}$) e do AG de Regime Permanente ($AG^(RPC)$) e dois AGs modificados a partir da variação de Regime Permanente, a primeira adaptada para utilizar um novo operador de mutação ($AG^{RPM}$) e a segunda para incluir um novo operador para controlar as ocorrências dos valores definidos para as restrições ($AG^{CO}$). Quanto aos operadores de busca além de operadores clássicos de seleção, recombinação e mutação, foi proposto um novo operador de recombinação e mutação para serem usados com as versões modificadas dos AGs. Além disso, também foi definido aqui a função objetivo e a representação da solução candidata para o problema. Por fim, dois novos operadores foram propostos para auxiliar os AGs no processo de otimização: um operador de busca local e um operador para controlar a ocorrência dos valores das restrições definidas para o problema.

Para que os algoritmos propostos fossem aplicados com sucesso ao problema de DEP foi necessário o uso de algumas ferramentas computacionais como o IMEX, necessário para as simulações de campo de petróleo; o MERO, utilizado para interpretar os resultados da simulações e calcular os indicadores utilizados para a avaliação da soluções candidatas; o jMetal, uma \textit{framewok} que serviu como base para a implementação do AG e seus operadores; e o CMOST, uma ferramenta comercial de otimização que foi utilizado parar ser comparados com os AGs . O Capítulo 4 foi dedicado a detalhar tais ferramentas, além de apresentar o caso de estudo utilizado para validar os algoritmos aqui implementados. Para tal, foi definido em conjunto com o grupo UNISIM, um modelo sintético de reservatório baseado no campo de Namorado, localizado no Rio de Janeiro, os parâmetros econômicos utilizados para a simulação e o escopo do problema para ser resolvido pelos AGs. Tal problema consistiu em encontrar a posição ótima para 18 poços de uma estratégia de produção, sendo dez desses poços do tipo produtor e oito do tipo injetor.

Por fim foi apresentado a estrutura dos experimentos realizados e a configuração dos AGs utilizado em cada experimento. Em resumo, tais experimentos foram divididos em duas etapas: a primeira etapa consiste do uso dos AGs sem o operador de busca local; já para a segunda etapa, tal operador foi considerado em conjunto com o AG que obteve o melhor desempenho durante a primeira etapa. Além disso o número máximo de avaliações foi diferente para cada etapa, para a Etapa 1 foi estabelecido um máximo de 500 avaliações da função objetivo, para a Etapa 2 esse número subiu para um média de 720 avaliações, uma vez que o operador de busca local realiza mais avaliações após a execução do AG. Ao total, foram realizados sete experimentos, sendo cinco durante a primeira etapa e dois durante a segunda etapa. Durante a primeira etapa, os resultados obtidos foram então comparados com uma Busca Aleatória (BA) e com o CMOST executando 500 avaliações da função objetivo ($CMOST^{500}$). Já na segunda etapa, o AG com Busca Local teve seus resultados comparados com o CMOST realizando 730 avaliações ($CMOST^{730}$) e o melhor AG da Etapa 1, também realizando 730 avaliações. Os resultados, então, foram validados através do teste estatístico não-paramétrico de Mann-Whitney-Wilcoxon. 

Enfim, os resultados desses experimentos foram apresentados e discutidos no Capítulo 5. Ao observar os resultados do primeiro experimento da Etapa 1 ficou claro que as versões clássicas tanto do AG Geracional ($AG^{GC-1}$) quanto do AG de Regime Permanente ($AG^{RPC-1}$), junto com os operadores clássicos, não foram capazes de explorar o espaço de busca de forma eficiente.  Ambas as variações do AG não foram capazes de superar o $CMOST^(500)$ e tão pouco a BA. No segundo experimento, ao alterar o operador de recombinação clássico pela proposta apresentada na Seção  3.5, os AGs clássicos ($AG^{GC-2}$ e $AG^{RPC-2}$) conseguiram um desempenho 17\% melhor que o visto no Experimento 1. No entanto, apesar dos ganhos obtidos pelo novo operador de recombinação, os AGs do Experimento 2 ainda não foram capazes de superar a BA e o $CMOST^(500)$, 

Durante o terceiro experimento, o ajuste de parâmetros levou os AGs ($AG^{GC-3}$ e $AG^{RPC-3}$) a um ganho médio de 24\% em relação AGs do Experimento 2. Com o aumento do tamanho da população os AGs foram capazes de explorar de forma mais eficiente o espaço de busca. Em relação as duas variações utilizadas, o AG de Regime Permanente foi o que mais se beneficiou com tal mudança, garantindo um repertório maior de soluções candidatas melhores, uma vez que só adiciona a população soluções que apresentem alguma melhora em relação a população. A partir desse experimento o AG de Regime Permanente foi definido como base para realizar as modificações ao AG que foi apresentado na Seção  3.3.2. 

Tal versão modificada do AG ($AG^{RPM}$) foi, então, utilizada durante o Experimento 4. Aqui também foi utilizado o operador de mutação proposto na Seção  3.6 e que utiliza os Indicadores de Poços como critério para definir a amplitude das modificações aleatória da solução. A estratégia proposta conseguiu um resultado 29\% melhor do que foi obtido no anterior e um desempenho aproximadamente 87\% melhor que a versão clássica dos AG utilizada durante o primeiro experimento, no entanto as mudanças realizadas ainda não foram capazes de superar os resultados obtidos pelo $CMOST$. Para finalizar a primeira etapa de experimentos, foi executado a segunda modificação proposta ao AG apresentada na Seção  3.3.3, a principal alteração dessa versão do AG ($AG^{CO}$) é a inclusão de um operador para contar o número de ocorrências dos valores estabelecidos para as restrições do posicionamento dos poços. Tal informação é utilizada posteriormente ao gerar uma nova solução, a ideia é favorecer os locais mais recorrentes, uma vez que tais locais apresente bons resultados. Os resultados obtidos durante o Experimento 5, no entanto, mostraram que a proposta não foi tão eficaz quanto se esperava. Apesar de ter um desempenho cerca de 76\% melhor que a versão clássica do AG, o $AG^{CO}$, ficou aquém do $AG^{RPM}$, do Experimento 4. Além disso, houve um ganho considerável no tempo gasto para concluir as 500 avaliações em relação aos AGs dos experimentos anteriores.

Apesar dos AGs da Etapa 1 não superarem os resultados obtidos pelo CMOST, executando 500 avaliações da função objetivo, vale ressaltar que o tempo computacional gasto pela ferramenta comercial também foi consideravelmente maior. Enquanto o $AG^{RPM}$, que obteve os melhores resultados entre os AGs, levou cerca de 2 horas e 45 minutos para concluir uma execução, o CMOST precisou de 7 horas e 15 minutos, uma diferença considerável.

Para a segunda etapa dos experimentos somente o $AG^{RPM}$ foi considerado para ser executado com as duas versões do operador de busca local proposto na Seção  3.7. Vale ressaltar que os parâmetros e os operadores de busca foram os mesmos utilizados pelo AG no experimento da etapa anterior. Como a execução do operador de busca local é uma tarefa computacionalmente cara, optou-se por executá-la somente com a melhor solução encontrada pelo AG. Ainda assim, o número total de avaliações da função objetivo aumentou, em média, para 720 avaliações, sendo 500 o máximo definido para o AG, assim como na etapa anterior, e 220 a quantidade média de avaliações necessárias para a execução da Busca Local.

Para o primeiro experimento da segunda etapa, o AG de Regime Permanente Modificado (proposto na Seção  3.3.2 e utilizado durante o Experimento 4 da Etapa 1) foi executado com a primeira versão da Busca Local. Esse operador procura, para cada poço, uma posição em sua vizinhança que leve a um ganho no VPL da solução, essa busca é feita enquanto houver posições vizinhas que apresentem alguma melhora. Tal estratégia se mostrou efetiva ao observar os resultados obtidos nesse experimento, em relação ao $AG^{RPM}$, o AG de Regime Permanente Modificado com o Operador de Busca Local ($AG^{BL-1}$) conseguiu um resultado médio 29\% melhor. Ao comparar com o resultado do CMOST da Etapa 1, a diferença foi de apenas 3\%. Ainda deve-se considerar que o $AG^{BL-1}$, mesmo realizando mais avaliação que o $CMOST^{500}$, levou cerca de 4 horas e 18 minutos para concluir o processo de otimização, enquanto o $CMOST^(500)$ de cerca de 7 horas para concluir as 500 avaliações da função objetivo.

Apesar dos resultados promissores obtidos pelo $AG^{BL-1}$, a comparação realizada com os resultados do AG e do CMOST da Etapa 1 não foram ao todo justas, uma vez que esses realizaram 500 avaliações da função objetivo, enquanto o $AG^{BL-1}$ teve um média de 720 avaliações da função objetivo. Tendo isso em mente, o $AG^{RPM}$ e o CMOST foram novamente executados dessa vez realizando um máximo de 730 avaliações da função objetivo. Ainda assim, em relação aos resultados obtidos pelo $AG^{RPM}$ nesse experimento($AG^{RPM-730}$), o uso do Operador de Busca Local se mostrou promissor. O $AG^{BL-1}$ apresentou um desempenho cerca de 13,4\% melhor e apesar do uso da busca local ser computacionalmente cara, a diferença de tempo gasto pelo $AG^{BL-1}$ e o $AG^{RPM-730}$ não foi grande, o $AG^(RMP)$ levou cerca de 3 horas 50 minutos para concluir as 730 avaliações, cerca de 30 minutos a menor do tempo gasto pelo $AG^{BL-1}$.

No entanto, o CMOST realizando as 730 avaliações ($CMOST^{730}$), novamente, conseguiu apresentar resultados melhores que o AG, a diferença entre os resultados obtidos pelo $AG^{BL-1}$ e o CMOST chegou a 12,5\%. Contudo, para que o $CMOST^{730}$ conseguisse tal resultado, foi necessário cerca de 22 horas e 50 minutos para concluir as 730 avaliações estabelecidas como critério de parada. O $AG^{BL-1}$ precisou de 19\% do tempo gasto pelo $CMOST^{730}$ para concluir um número equivalente de avaliações.

Para finalizar essa Etapa, foi realizando um segundo experimento utilizando dessa vez uma versão aprimorada do operador de busca local. Essa versão da busca local ainda procura, para cada poço, encontrar posições no reservatório que levem a melhorias na solução. No entanto, ao invés de procurar melhoria no VPL, o operador utilizado aqui, busca primeiramente melhorar o IEP do poço e, caso não encontre novas posições que levem a um ganho do IEP, procurar então posições que levem a um ganho do VPL. O AG com essa versão da Busca Local ($AG^{BL-2}$) obteve um desempenho semelhante a versão original utilizada no experimento anterior, tendo apenas 0,66\% de melhora em relação ao $AG^{BL-1}$.  Nesse experimento, o $AG^{BL-2}$ conseguiu concluir o processo de otimização com menos avaliações da função objetivo que o $AG^{BL-1}$, foram em média 680 avaliações contra 720 do $AG^{BL-1}$, no entanto a estratégia utilizada para a nova versão do operador de busca mostrou-se computacionalmente cara no quesito tempo, uma vez que o $AG^{BL-2}$ precisou de , em média, 6 hora e 17 minutos para concluir cada execução, foram cerca de 2 horas a mais em relação ao tempo gasto pelo $AG^{BL-1}$.
 	
Os experimentos realizados nesse trabalho mostram como os Algoritmos Genéticos são ferramentas robustas e flexíveis. As versões clássicas, tanto com a abordagem Geracional quanto a de Regime Permanente, se mostraram ineficazes ao resolver o problema de definição de estratégia de produção, no entanto, no decorrer dos experimentos foi possível mostrar que com algumas pequenas alterações é possível melhorar o desempenho do AG. Os resultados mais promissores, no entanto, vieram com a inclusão de operadores de busca mais específicos ao problema em questão. Ao manipular os poços da estratégia com base nos IEPs, com o operador de mutação, ou buscar posições que levem a melhores IEPs e ganhos do VPL da solução mais que dobraram em relação os AGs clássicos.
 	
Apesar das soluções encontradas pelo melhor AG, o $AG^{BL-1}$, não terem superado as soluções encontradas pelo CMOST, vale ressaltar que a fermenta comercial precisou de um tempo muito maior para concluir o processo de otimização. Mesmo o $AG^{BL-1}$ realizando mais avaliações que o $CMOST^{500}$, o AG precisou de 4 horas e 18 minutos, em média, para concluir uma execução com 720 avaliações, cerca de 60\% do tempo gasto do $CMOST^{500}$ para concluir 500 avaliações. Nesse cenário, o $CMOST^(500)$ conseguiu uma solução com VPL somente 3\% melhor que a solução obtida pelo $AG^{BL-1}$. Quanto ao $CMOST^{730}$, apesar de ter conseguido soluções com um VPL 12,5\% melhores que o $AG^{BL-1}$, tal ferramenta precisou de quase 23 horas para concluir as 730 uma execução com 730 avaliações da função o objetivo, uma diferença grande quando comparado ao tempo gasto pelo $AG^{BL-1}$ que precisou de cerca de 19\% desse tempo.

Novamente, apesar dos AG aqui implementados não terem superado a ferramenta Comercial CMOST quando se trata das soluções obtidas os AG mostraram-se promissores para a encontrar soluções de qualidade para o problema de definição de estratégia de produção. É possível que com novos ajustes os AG sejam capazes de resultados semelhantes aos obtidos pela fragmenta comercial.  Para que tal objetivo seja atingido, vale estudar o uso de outros indicadores ao processo de otimização. Nesse trabalho foi considerado somente os indicadores de viés econômico para o desenvolvimento dos operadores de busca do AG, não foi considerado, por exemplo, o uso dos indicadores técnicos brevemente citados na Seção  . Os indicadores técnicos podem beneficiar, principalmente, a avaliação dos poços das estratégias de produção uma vez que há indicadores específicos para cada tipo de poço como a Produção de Óleo (que indica a quantidade de óleo produzida por um poço) para o poço produtor e Injeção de Água (que indica a quantidade de água que um poço injetou no reservatório). Utilizar tais indicadores permite uma avaliação mais criteriosa para cada tipo de poço, uma vez que cada um tem papeis distintos no sistema de produção. 

Outro aspecto importante que pode ser explorado pelos operadores durante a busca são as informações proveniente do campo de petróleo. Os indicadores, tanto técnicos quanto econômicos, dizem respeito ao desempenho da estratégia e dos poços, tais indicadores são influenciados pelas propriedades do reservatório como porosidade, permeabilidade e pressão, por exemplo. Cada bloco do modelo do reservatório possui um valor para essa e outras propriedades do campo de petróleo. Estudar correlações entre tais propriedades e os indicadores relacionados aos poços, por exemplo, e inserir tal conhecimento ao processo de otimização pode levar a um posicionamento mais inteligente dos poços da estratégia de produção e, por sua vez, a soluções melhores. Por fim, outro aspecto que merece a atenção é verificar como se comporta os algoritmos desse trabalho com outros modelos de reservatório como, por exemplo, o modelo UNISIM-ID \cite{GasparRavagnani2015}, um modelo mais complexo e mais difícil de encontrar uma solução otimizada.
